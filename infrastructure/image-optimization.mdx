---
title: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å Supabase Image Transformations
---
## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**Image Transformations –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–∞ Pro Plan –∏ –≤—ã—à–µ!**

–ï—Å–ª–∏ —É –≤–∞—Å Free Plan –≤ Supabase, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ 404 –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `/render/image/` endpoint.

## –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é

### –û—Ç–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (–¥–ª—è Free Plan)

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:

```env
VITE_ENABLE_IMAGE_OPTIMIZATION=false
```

### –í–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (–¥–ª—è Pro Plan, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ)

–ù–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

–ò–ª–∏ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ –≤ `.env.local`:

```env
VITE_ENABLE_IMAGE_OPTIMIZATION=true
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```
https://supabase.vskideas.ru/storage/v1/object/public/avatars/user.png
```

–†–∞–∑–º–µ—Ä: \~500KB (–æ—Ä–∏–≥–∏–Ω–∞–ª)

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```
https://supabase.vskideas.ru/storage/v1/render/image/public/avatars/user.png?width=48&height=48&quality=85&resize=cover
```

–†–∞–∑–º–µ—Ä: \~5-10KB (WebP, 48x48px)

## –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã

- **thumbnail**: 48px - —Å–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞—Ä—Ç–æ—á–∫–∏

- **small**: 80px - –Ω–µ–±–æ–ª—å—à–∏–µ –∞–≤–∞—Ç–∞—Ä—ã

- **medium**: 120px - –ø—Ä–æ—Ñ–∏–ª—å –≤ —à–∞–ø–∫–µ

- **large**: 200px - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è

- **xlarge**: 400px - –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```tsx
import { getOptimizedAvatarUrl } from '@/utils/imageOptimization';

// –° –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
<AvatarImage src={getOptimizedAvatarUrl(user.avatar_url, 'thumbnail')} />

// –° –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
<AvatarImage src={getOptimizedAvatarUrl(user.avatar_url, 150)} />

// –° –ø–æ–Ω–∏–∂–µ–Ω–Ω—ã–º –∫–∞—á–µ—Å—Ç–≤–æ–º –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
<AvatarImage src={getOptimizedAvatarUrl(user.avatar_url, 'large', 70)} />
```

## –ì–¥–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

‚úÖ Profile.tsx - –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ñ–∏–ª—å (medium, 120px)
‚úÖ ProfileEdit.tsx - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (small, 80px)
‚úÖ EmployeeCard.tsx - –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (thumbnail, 48px)
‚úÖ DepartmentDetails.tsx - —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞ (thumbnail, 48px)
‚úÖ AdminUsers.tsx - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (thumbnail, 48px)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∞–≤–∞—Ç–∞—Ä–∫–∞–º–∏

3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º

4. URL –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `/render/image/` –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `width`, `height`, `quality`, `resize`

5. –í Headers –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Content-Type: `image/webp` (–¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤)

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–∞–Ω Supabase

–ó–∞–π–¥–∏—Ç–µ –≤ Settings ‚Üí Billing –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å Pro Plan –∏–ª–∏ –≤—ã—à–µ.

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ bucket –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í Supabase Dashboard ‚Üí Storage ‚Üí avatars ‚Üí Settings —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ bucket –ø—É–±–ª–∏—á–Ω—ã–π.

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è URL:

```javascript
console.log(getOptimizedAvatarUrl('https://supabase.vskideas.ru/storage/v1/object/public/avatars/test.png', 'thumbnail'));
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:

```
https://supabase.vskideas.ru/storage/v1/render/image/public/avatars/test.png?width=48&height=48&quality=85&resize=cover
```

### 4. –û—Ç–∫–ª—é—á–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é

–ï—Å–ª–∏ —É –≤–∞—Å Free Plan, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:

```env
VITE_ENABLE_IMAGE_OPTIMIZATION=false
```

–ò –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- üìâ **–°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞**: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–µ—Å—è—Ç –≤ 50-100 —Ä–∞–∑ –º–µ–Ω—å—à–µ

- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: –æ—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–æ –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö

- üåê **WebP**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

- üí∞ **–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞**: –º–µ–Ω—å—à–µ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Ç Supabase

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Responsive Images (srcset)

```tsx
import { getResponsiveImageSrcset } from '@/utils/imageOptimization';

const srcset = getResponsiveImageSrcset(profile.avatar_url, [100, 200, 400]);

<img
  src={profile.avatar_url}
  srcset={srcset}
  sizes="(max-width: 768px) 100px, 200px"
  alt={profile.name}
/>
```

### –†—É—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

```tsx
import { optimizeImageUrl } from '@/utils/imageOptimization';

const customUrl = optimizeImageUrl(imageUrl, {
  width: 300,
  height: 200,
  quality: 90,
  resize: 'contain', // contain, cover, fill
  format: 'webp'
});
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase

[https://supabase.com/docs/guides/storage/serving/image-transformations](https://supabase.com/docs/guides/storage/serving/image-transformations)
